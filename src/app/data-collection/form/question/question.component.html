<div class="question mt-3 p-4 bg-white">
    <div class="question__nav row">
        <div class="col-auto" style="flex: 1;">
            <app-editor
                class="{{EDITOR_CLASS_QUESTION}}"
                [editorId]="questionDetails.id"
                [editorContent]="questionDetails.name"
                [editorConfig]="EDITOR_CONFIG_QUESTION"
                (editorResult)="updateQuestionName($event)">
            </app-editor>
        </div>

        <div class="col-1 question__nav-control">
            <!-- <button type="button" class="insert-image bg-transparent border-0 shadow-none">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M23 4C23 2.34315 21.6569 1 20 1H4C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4ZM21 4C21 3.44772 20.5523 3 20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4Z"/>
                    <path d="M4.80665 17.5211L9.1221 9.60947C9.50112 8.91461 10.4989 8.91461 10.8779 9.60947L14.0465 15.4186L15.1318 13.5194C15.5157 12.8476 16.4843 12.8476 16.8682 13.5194L19.1451 17.5039C19.526 18.1705 19.0446 19 18.2768 19H5.68454C4.92548 19 4.44317 18.1875 4.80665 17.5211Z"/>
                    <path d="M18 8C18 9.10457 17.1046 10 16 10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6C17.1046 6 18 6.89543 18 8Z"/>
                </svg>
            </button> -->
        </div>

        <div class="col-auto text-right question__nav-control">
            <div class="btn-group">
                <button type="button" class="btn bg-transparent border shadow-none dropdown-toggle"
                    data-toggle="dropdown" aria-expanded="false" style="min-width: 9.25rem; text-align: left;">
                    {{ questionDetails.type.description }}
                </button>

                <div class="dropdown-menu">
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_SORTTEXT)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path d="M3 10H21M3 14H12" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        {{ QUESTION_TYPE_SORTTEXT.description }}
                    </div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_LONGTEXT)">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" id="Layer_1" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                            <path d="M0,462h256v-64H0V462z M0,355.3h512v-64H0V355.3z M0,248.7h512v-64H0V248.7z M0,78v64h512V78H0z"/>
                        </svg>
                        {{ QUESTION_TYPE_LONGTEXT.description }}
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_RADIO)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 7.85786 16.1421 4.5 12 4.5C7.85786 4.5 4.5 7.85786 4.5 12C4.5 16.1421 7.85786 19.5 12 19.5ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" fill="#080341"/>
                            <circle cx="12" cy="12" r="5.25" fill="#080341"/>
                        </svg>
                        {{ QUESTION_TYPE_RADIO.description }}
                    </div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_CHECKBOX)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <g id="Interface / Checkbox_Check">
                            <path id="Vector" d="M8 12L11 15L16 9M4 16.8002V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4796 4 18.9074 4.21799C19.2837 4.40973 19.5905 4.71547 19.7822 5.0918C20 5.5192 20 6.07899 20 7.19691V16.8036C20 17.9215 20 18.4805 19.7822 18.9079C19.5905 19.2842 19.2837 19.5905 18.9074 19.7822C18.48 20 17.921 20 16.8031 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2842 4.21799 18.9079C4 18.4801 4 17.9203 4 16.8002Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                        </svg>
                        {{ QUESTION_TYPE_CHECKBOX.description }}
                    </div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_DROPDOWN)">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Icons" viewBox="0 0 32 32" xml:space="preserve">
                            <style type="text/css">
                                .st0{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
                            </style>
                            <circle class="st0" cx="16" cy="16" r="13"/>
                            <polyline class="st0" points="21,14 16,19 11,14 "/>
                        </svg>
                        {{ QUESTION_TYPE_DROPDOWN.description }}
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_DATE)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path d="M3 9H21M7 3V5M17 3V5M6 12H10V16H6V12ZM6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        {{ QUESTION_TYPE_DATE.description }}
                    </div>
                    <div class="dropdown-item" (click)="setQuestionType(QUESTION_TYPE_TIME)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path d="M12 7V12L14.5 13.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        {{ QUESTION_TYPE_TIME.description }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="question__content w-100">
        <app-option
            *ngFor="let option of questionDetails.options; let i = index"
            [optionDetails]="option"
            [optionType]="questionDetails.type.name"
            [optionIndex]="i"
            (optionDeleteIndex)="deleteQuestionOption($event)"
            (optionResult)="updateQuestionOptionContent($event)">
        </app-option>

        <ng-container *ngIf="isQuestionOptions()">
            <div class="add-option pt-3 pb-2 text-left text-black-50"
                (click)="addNewQuestionOption()">
                Thêm lựa chọn
            </div>
        </ng-container>
    </div>

    <div class="question__control justify-content-end mt-4">
        <button (click)="cloneQuestionRequest()" class="clone-question-btn bg-transparent border-0 shadow-none" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M14 16.75H6C5.27065 16.75 4.57118 16.4603 4.05546 15.9445C3.53973 15.4288 3.25 14.7293 3.25 14V6C3.25 5.27065 3.53973 4.57118 4.05546 4.05546C4.57118 3.53973 5.27065 3.25 6 3.25H14C14.7293 3.25 15.4288 3.53973 15.9445 4.05546C16.4603 4.57118 16.75 5.27065 16.75 6V14C16.75 14.7293 16.4603 15.4288 15.9445 15.9445C15.4288 16.4603 14.7293 16.75 14 16.75ZM6 4.75C5.66848 4.75 5.35054 4.8817 5.11612 5.11612C4.8817 5.35054 4.75 5.66848 4.75 6V14C4.75 14.3315 4.8817 14.6495 5.11612 14.8839C5.35054 15.1183 5.66848 15.25 6 15.25H14C14.3315 15.25 14.6495 15.1183 14.8839 14.8839C15.1183 14.6495 15.25 14.3315 15.25 14V6C15.25 5.66848 15.1183 5.35054 14.8839 5.11612C14.6495 4.8817 14.3315 4.75 14 4.75H6Z"/>
                <path d="M18 20.75H10C9.27065 20.75 8.57118 20.4603 8.05546 19.9445C7.53973 19.4288 7.25 18.7293 7.25 18V16H8.75V18C8.75 18.3315 8.8817 18.6495 9.11612 18.8839C9.35054 19.1183 9.66848 19.25 10 19.25H18C18.3315 19.25 18.6495 19.1183 18.8839 18.8839C19.1183 18.6495 19.25 18.3315 19.25 18V10C19.25 9.66848 19.1183 9.35054 18.8839 9.11612C18.6495 8.8817 18.3315 8.75 18 8.75H16V7.25H18C18.7293 7.25 19.4288 7.53973 19.9445 8.05546C20.4603 8.57118 20.75 9.27065 20.75 10V18C20.75 18.7293 20.4603 19.4288 19.9445 19.9445C19.4288 20.4603 18.7293 20.75 18 20.75Z"/>
            </svg>
        </button>

        <button (click)="deleteQuestionRequest()" class="delete-question-btn bg-transparent border-0 shadow-none" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M10 11V17" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14 11V17" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 7H20" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>

        <div class="required-btn d-flex justify-content-center align-items-center ml-4 mt-1">
            <span style="font-size: 16px; font-weight: 500; color: #48484b;">Bắt buộc</span>
            <div (click)="toggleQuestionRequired()" [ngClass]="{'active': questionDetails.isRequired}" class="contact ml-3 mt-1"></div>
        </div>
    </div>
</div>
